### ElasticSearch集群

#### 1.集群原理

![](https://gitee.com/enioy/img/raw/master/K8S/20201226142545.png) 



##### 1.单节点

![](https://gitee.com/enioy/img/raw/master/K8S/20201226142731.png) 



##### 2.集群健康

![](https://gitee.com/enioy/img/raw/master/K8S/20201226142816.png) 



##### 3.分片

![](https://gitee.com/enioy/img/raw/master/K8S/20201226143039.png) 



##### 4.新增节点

![](https://gitee.com/enioy/img/raw/master/K8S/20201226143138.png) 



##### 5.水平扩容-启动第三个节点

![](https://gitee.com/enioy/img/raw/master/K8S/20201226144308.png) 



##### 6.应对故障

![](https://gitee.com/enioy/img/raw/master/K8S/20201226144507.png) 



##### 7.问题与解决

![](https://gitee.com/enioy/img/raw/master/K8S/20201226144915.png) 

![](https://gitee.com/enioy/img/raw/master/K8S/20201226145345.png) 



##### 8.集群结构

![](https://gitee.com/enioy/img/raw/master/K8S/20201226145534.png) 



#### 2.集群搭建

![](https://gitee.com/enioy/img/raw/master/K8S/20201226145612.png) 



![](https://gitee.com/enioy/img/raw/master/K8S/20201226145640.png) 

![](https://gitee.com/enioy/img/raw/master/K8S/20201226145818.png) 

![](https://gitee.com/enioy/img/raw/master/K8S/20201226150507.png) 

![](https://gitee.com/enioy/img/raw/master/K8S/20201226150604.png) 

![](https://gitee.com/enioy/img/raw/master/K8S/20201226150812.png) 

![](https://gitee.com/enioy/img/raw/master/K8S/20201226151422.png) 



#### 3.k8s上部署